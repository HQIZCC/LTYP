<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.vworld.mapper.MovieMapper">
      <select id="findfirstfourMovie" resultType="MovieInfo">
          select * from movie_info where movie_id BETWEEN #{page} AND #{page}+3
      </select>
    <select id="findsecondfourMovie" resultType="MovieInfo">
          select * from movie_info where movie_id BETWEEN #{page} AND #{page}+3
      </select>
    <select id="findthirdfourMovie" resultType="MovieInfo">
          select * from movie_info where movie_id BETWEEN #{page} AND #{page}+3
      </select>

    <select id="findMovieNum" resultType="java.lang.Integer">
        select COUNT(*) from movie_info
    </select>

    <select id="findMovieInfoByMovieInfoId" resultType="MovieInfo">
         select * from movie_info where movie_id=#{movieId}
    </select>

    <select id="findMovieListBySearch" resultType="MovieInfo">
        select * from movie_info
where movie_name like "%"#{search}"%" or description like "%"#{search}"%"
      or director like "%"#{search}"%" or actor like "%"#{search}"%" or country like "%"#{search}"%"
    </select>

    <select id="findNewUpdateMovie" resultType="MovieInfo">
        select * from movie_info order by update_time DESC LIMIT 0,#{number}
    </select>

    <select id="typeSearch" resultType="MovieInfo">
        select movie_info.* from movie_info left join movie_type on movie_info.movie_id=movie_type.movie_id where movie_type.type_id=#{typeId};
    </select>
</mapper>
